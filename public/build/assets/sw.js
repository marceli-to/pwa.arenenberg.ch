const i="v1",a=`site-assets-${i}`,n=["index.html","gallery.html","audio.html","sample.mp3","image-1.png","image-2.png","app.css","app.js"];self.addEventListener("install",e=>{e.waitUntil(caches.open(a).then(t=>t.addAll(n)).then(()=>self.skipWaiting()))});self.addEventListener("activate",e=>{e.waitUntil(caches.keys().then(t=>Promise.all(t.map(s=>{if(s!==a)return caches.delete(s)}))).then(()=>self.clients.claim()))});self.addEventListener("fetch",e=>{e.request.mode==="navigate"?e.respondWith(caches.match(e.request).then(t=>t||fetch(e.request).catch(()=>caches.match("/offline.html")))):e.respondWith(caches.match(e.request).then(t=>t||fetch(e.request)))});
